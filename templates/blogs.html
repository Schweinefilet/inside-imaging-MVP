<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="color-scheme" content="light dark">
  <title>Insights - Inside Imaging</title>
  <link rel="icon" type="image/png" href="{{ url_for('static', filename='logo.png') }}">
  <link rel="apple-touch-icon" href="{{ url_for('static', filename='logo.png') }}">

  <script>
  (function(){
    try {
      var t = localStorage.getItem('theme');
      var preferLight = window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches;
      var useLight = t ? (t === 'light') : preferLight;
      if (useLight) document.documentElement.classList.add('light');
    } catch(e) {}
  })();
  </script>

  <link rel="stylesheet" href="{{ url_for('static', filename='main.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='dashboard.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='blogs.css') }}">
</head>
<body>
  <div class="page-wrapper">
    <header class="navbar">
      <div class="navbar-brand">
        <img src="{{ url_for('static', filename='logo.png') }}" alt="Inside Imaging Logo" class="logo">
      </div>
      <nav class="nav-links">
        <a href="{{ url_for('projects') }}">Projects</a>
        <a href="{{ url_for('dashboard') }}">Dashboard</a>
        <a href="{{ url_for('report_status') }}">Statistics</a>
        <a href="{{ url_for('team') }}">Our Team</a>
        <!-- <a href="{{ url_for('payment') }}">Payment</a> -->
        <a href="{{ url_for('blogs') }}" class="active">Insights</a>
        <a href="{{ url_for('help_page') }}">Help</a>
      </nav>
      <div class="nav-auth">
          <label class="theme-switch" aria-label="Toggle theme">
            <span class="theme-row">
              <span class="theme-icon" aria-hidden="true">üåô</span>
              <input id="theme-toggle" class="theme-switch-input" type="checkbox" role="switch" aria-checked="false">
              <span class="theme-switch-track" aria-hidden="true"></span>
              <span class="theme-icon" aria-hidden="true">‚òÄÔ∏è</span>
            </span>
            <span id="theme-label" class="theme-switch-text">Dark mode</span>
          </label>
          {% if session.get('username') %}
          <div class="user-menu">
            <button class="user-menu-toggle" type="button" aria-expanded="false">
              <span class="user-name" aria-live="polite">{{ session.get('username') }}</span>
              <span class="user-caret" aria-hidden="true">‚ñæ</span>
            </button>
            <div class="user-menu-dropdown" role="menu" hidden>
              <a href="{{ url_for('profile') }}" role="menuitem">Profile</a>
              <a href="{{ url_for('logout') }}" role="menuitem">Log Out</a>
            </div>
          </div>
          {% else %}
          <a href="{{ url_for('login') }}" class="login-button">Log In</a>
          <a href="{{ url_for('signup') }}" class="signup-button">Sign Up</a>
          {% endif %}
      </div>
    </header>

    <main class="content blogs-page">
      <section class="blogs-hero">
        <h1>Insights</h1>
        <p>Perspectives from practicing radiologists on communication, technology, and patient partnership.</p>
      </section>

      {% if posts %}
      <section class="blog-grid">
        {% for post in posts %}
        <article class="blog-card">
          <header>
            <h2>{{ post.title }}</h2>
            <div class="blog-meta">
              <span>{{ post.author }}</span>
              <span>{{ post.date }}</span>
              <span>{{ post.read_time }}</span>
            </div>
          </header>
          <p class="blog-summary">{{ post.summary }}</p>
          <footer>
            <a href="{{ post.url }}" target="_blank" rel="noopener">Read full post ‚Üí</a>
          </footer>
          
          <!-- Author Bio Section -->
          <div class="author-bio">
            <div class="author-avatar">
              {% if post.author_image %}
              <img src="{{ post.author_image }}" alt="{{ post.author }}" />
              {% else %}
              <div class="author-avatar-placeholder">{{ post.author[0] if post.author else 'A' }}</div>
              {% endif %}
            </div>
            <div class="author-info">
              <h4 class="author-name">{{ post.author }}</h4>
              <p class="author-description">{{ post.author_bio if post.author_bio else 'Healthcare Professional sharing insights on radiology and patient care.' }}</p>
              <div class="author-social">
                {% if post.author_linkedin %}
                <a href="{{ post.author_linkedin }}" target="_blank" rel="noopener" aria-label="LinkedIn">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>
                </a>
                {% endif %}
                {% if post.author_twitter %}
                <a href="{{ post.author_twitter }}" target="_blank" rel="noopener" aria-label="Twitter/X">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
                </a>
                {% endif %}
                {% if post.author_email %}
                <a href="mailto:{{ post.author_email }}" aria-label="Email">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
                </a>
                {% endif %}
                {% if post.author_website %}
                <a href="{{ post.author_website }}" target="_blank" rel="noopener" aria-label="Website">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>
                </a>
                {% endif %}
              </div>
            </div>
          </div>
        </article>
        {% endfor %}
      </section>
      {% else %}
      <section class="blog-submit">
        <h2>Want to contribute?</h2>
        <p>We are curating essays from radiology leaders. Share your ideas with our editorial team.</p>
        {% if submit_url %}
        <a href="{{ submit_url }}">Pitch a story ‚Üí</a>
        {% endif %}
      </section>
      {% endif %}

      <section class="blog-submit">
        <h2>Publish Your Perspective</h2>
        <p>We feature practical guidance, communication strategies, and patient-centered workflows. Submissions are reviewed weekly.</p>
        {% if submit_url %}
        <a href="{{ submit_url }}">Pitch a story ‚Üí</a>
        {% else %}
        <p>Email <strong>editor@insideimaging.example</strong> to submit a draft.</p>
        {% endif %}
      </section>
    </main>

    {% include '_footer.html' %}
  </div>

  <script src="{{ url_for('static', filename='theme.js') }}"></script>
</body>
</html>
